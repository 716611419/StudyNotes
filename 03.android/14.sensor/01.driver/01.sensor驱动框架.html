<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-02-20 一 09:26 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="wildbook" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. 简介</a></li>
<li><a href="#orgheadline2">2. 参考文档</a></li>
<li><a href="#orgheadline3">3. sysfs</a></li>
<li><a href="#orgheadline5">4. 结构体</a>
<ul>
<li><a href="#orgheadline4">4.1. sensors<sub>classdev</sub></a></li>
</ul>
</li>
<li><a href="#orgheadline9">5. 函数</a>
<ul>
<li><a href="#orgheadline6">5.1. sensors<sub>init</sub>()</a></li>
<li><a href="#orgheadline7">5.2. sensors<sub>class</sub><sub>attrs</sub></a></li>
<li><a href="#orgheadline8">5.3. 注册/注销传感器设备</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> 简介</h2>
<div class="outline-text-2" id="text-1">
<p>
Sensors驱动有专门的Sensors子系统,核心代码在sensors<sub>class.c,提供</sub>
了两个接口注册/注销sensors驱动,触摸屏驱动用到这个了
</p>
</div>
</div>
<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2"><span class="section-number-2">2</span> 参考文档</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><b>Code</b>:kernel/drivers/sensors/sensors<sub>class.c</sub></li>
<li>**</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3"><span class="section-number-2">3</span> sysfs</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li><b>sysfs</b>:/sys/class/sensors</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5"><span class="section-number-2">4</span> 结构体</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">4.1</span> sensors<sub>classdev</sub></h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> {
   <span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">device</span>   *<span style="color: #268bd2;">dev</span>; <span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#35774;&#22791;&#29992;&#20110;&#27880;&#20876;&#29992;</span>
   <span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">list_head</span>  <span style="color: #268bd2;">node</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#25152;&#26377;&#20256;&#24863;&#22120;&#39537;&#21160;&#30340;&#34920;</span>
   <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900;">char</span>    *<span style="color: #268bd2;">name</span>; <span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#21517;</span>
   <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900;">char</span>    *<span style="color: #268bd2;">vendor</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#30828;&#20214;&#37096;&#20998;&#30340;&#21378;&#21830;</span>
   <span style="color: #b58900;">int</span>     <span style="color: #268bd2;">version</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#29256;&#26412;&#21495;</span>
   <span style="color: #b58900;">int</span>     <span style="color: #268bd2;">handle</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#26631;&#35782;&#27492;&#20256;&#24863;&#22120;&#30340;&#21477;&#26564;(&#24212;&#35813;&#29992;&#20110;&#21306;&#20998;&#20256;&#24863;&#22120;&#29992;&#30340;)</span>
   <span style="color: #b58900;">int</span>     <span style="color: #268bd2;">type</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#31867;&#22411;</span>
   <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900;">char</span>    *<span style="color: #268bd2;">max_range</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#22312;&#22269;&#38469;&#21333;&#20301;&#20013;,&#20256;&#24863;&#22120;&#20540;&#30340;&#26368;&#22823;&#33539;&#22260;</span>
   <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900;">char</span>    *<span style="color: #268bd2;">resolution</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#35813;&#20256;&#24863;&#22120;&#25253;&#21578;&#30340;&#20004;&#20010;&#20540;&#20043;&#38388;&#30340;&#26368;&#23567;&#24046;</span>
   <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900;">char</span>    *<span style="color: #268bd2;">sensor_power</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#21151;&#32791;(mA)</span>

   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#35813;&#20540;&#21462;&#20915;&#20110;&#35302;&#21457;&#27169;&#24335;</span>
<span style="color: #93a1a1;">       continuous: &#20801;&#35768;&#30340;&#26368;&#23567;&#21608;&#26399;(&#24494;&#22937;)</span>
<span style="color: #93a1a1;">       on-change : 0</span>
<span style="color: #93a1a1;">       one-shot :-1</span>
<span style="color: #93a1a1;">       special : 0,&#38500;&#38750;&#21478;&#26377;&#35828;&#26126;</span>
<span style="color: #93a1a1;">   */</span>
   <span style="color: #b58900;">int</span>     <span style="color: #268bd2;">min_delay</span>;

   <span style="color: #b58900;">int</span>     <span style="color: #268bd2;">fifo_reserved_event_count</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#22312;&#25209;&#22788;&#29702;&#27169;&#24335;FIFO&#20013;&#20026;&#27492;&#20256;&#24863;&#22120;&#20445;&#30041;&#30340;&#20107;&#20214;&#25968;&#12290;</span>
   <span style="color: #b58900;">int</span>     <span style="color: #268bd2;">fifo_max_event_count</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#27492;&#20256;&#24863;&#22120;&#21487;&#20197;&#25209;&#22788;&#29702;&#30340;&#26368;&#22823;&#20107;&#20214;&#25968;</span>
   <span style="color: #b58900;">int32_t</span>     <span style="color: #268bd2;">max_delay</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#25903;&#25345;&#30340;&#26368;&#24930;&#36895;&#29575;(&#27627;&#31186;)</span>
   <span style="color: #b58900;">uint32_t</span>    <span style="color: #268bd2;">flags</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#22914;&#26524;&#20256;&#24863;&#22120;&#26159;&#21796;&#37266;&#20256;&#24863;&#22120;,&#21017;&#24212;&#20026;&#8220;1&#8221;,&#21542;&#21017;&#35774;&#32622;&#20026;&#8220;0&#8221;</span>

   <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span>    <span style="color: #268bd2;">enabled</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#23384;&#20648;&#20256;&#24863;&#22120;&#39537;&#21160;&#22120;&#20351;&#33021;&#29366;&#24577;</span>
   <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span>    <span style="color: #268bd2;">delay_msec</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#23384;&#20648;&#20256;&#24863;&#22120;&#39537;&#21160;&#22120;&#24310;&#36831;&#20540;(&#27627;&#31186;)</span>
   <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span>    <span style="color: #268bd2;">wakeup</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#25351;&#31034;&#21796;&#37266;&#20013;&#26029;&#26159;&#21542;&#20351;&#33021;</span>
   <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span>    <span style="color: #268bd2;">max_latency</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#26368;&#22823;&#25253;&#21578;&#24310;&#36831;(ms)</span>
   <span style="color: #b58900;">char</span>      *<span style="color: #268bd2;">params</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#26657;&#20934;&#23383;&#31526;&#20018;&#26684;&#24335;&#21040;&#29992;&#25143;&#31354;&#38388;&#12290;</span>
   <span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">cal_result_t</span> <span style="color: #268bd2;">cal_result</span>;<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#26657;&#20934;&#21442;&#25968;,cal_result&#26159;&#20256;&#24863;&#22120;&#30340;&#32467;&#26500;&#12290;</span>
   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#21551;&#29992;/&#31105;&#29992;&#20256;&#24863;&#22120;&#30340;&#25163;&#26564;*/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_enable</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensors_cdev</span>, <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span> <span style="color: #268bd2;">enabled</span>);
   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#35813;&#21477;&#26564;&#29992;&#20110;&#35774;&#32622;&#20256;&#24863;&#22120;&#36718;&#35810;&#24310;&#36831;&#26102;&#38388;*/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_poll_delay</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensors_cdev</span>, <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span> <span style="color: #268bd2;">delay_msec</span>);
   <span style="color: #93a1a1;">/**</span><span style="color: #93a1a1;">/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_self_test</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensors_cdev</span>);
   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#35774;&#32622;&#20256;&#24863;&#22120;&#30340;&#26368;&#22823;&#25253;&#21578;&#24310;&#36831;*/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_set_latency</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensor_cdev</span>, <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span> <span style="color: #268bd2;">max_latency</span>);
   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#21551;&#29992;/&#31105;&#29992;&#20256;&#24863;&#22120;&#30340;&#25163;&#26564;*/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_enable_wakeup</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensor_cdev</span>, <span style="color: #b58900;">unsigned</span> <span style="color: #b58900;">int</span> <span style="color: #268bd2;">enable</span>);
   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#22312;FIFO&#20013;&#28165;&#38500;&#20256;&#24863;&#22120;&#20107;&#20214;&#24182;&#23558;&#20854;&#25253;&#21578;&#32473;&#29992;&#25143;&#31354;&#38388;*/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_flush</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensors_cdev</span>);
   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">&#20256;&#24863;&#22120;&#26657;&#20934;*/</span>
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_calibrate</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensor_cdev</span>, <span style="color: #b58900;">int</span> <span style="color: #268bd2;">axis</span>, <span style="color: #b58900;">int</span> <span style="color: #268bd2;">apply_now</span>);
   <span style="color: #b58900;">int</span> (*<span style="color: #268bd2;">sensors_write_cal_params</span>)(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensor_cdev</span>, <span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">cal_result_t</span> *<span style="color: #268bd2;">cal_result</span>);
 };
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9"><span class="section-number-2">5</span> 函数</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">5.1</span> sensors<sub>init</sub>()</h3>
<div class="outline-text-3" id="text-5-1">
<ol class="org-ol">
<li>创建sensors类</li>
</ol>
</div>
</div>
<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">5.2</span> sensors<sub>class</sub><sub>attrs</sub></h3>
<div class="outline-text-3" id="text-5-2">
<p>
<b>功能</b>:在/sys/class/sensors/xx/下创建属性文件
</p>
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">static</span> <span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">device_attribute</span> <span style="color: #268bd2;">sensors_class_attrs</span>[] = {

   <span style="color: #93a1a1;">/*</span><span style="color: #93a1a1;">name:&#26174;&#31034;&#20256;&#24863;&#22120;&#21517;*/</span>
   __ATTR(name, <span style="color: #6c71c4;">0444</span>, sensors_name_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   <span style="color: #93a1a1;">/**</span><span style="color: #93a1a1;">/</span>
   __ATTR(vendor, <span style="color: #6c71c4;">0444</span>, sensors_vendor_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   <span style="color: #93a1a1;">/**</span><span style="color: #93a1a1;">/</span>
   __ATTR(version, <span style="color: #6c71c4;">0444</span>, sensors_version_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#26174;&#31034;&#29256;&#26412;&#21495;</span>
   __ATTR(handle, <span style="color: #6c71c4;">0444</span>, sensors_handle_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),<span style="color: #93a1a1;">//</span>
   __ATTR(type, <span style="color: #6c71c4;">0444</span>, sensors_type_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#26174;&#31034;&#31867;&#22411;</span>
   __ATTR(max_range, <span style="color: #6c71c4;">0444</span>, sensors_max_range_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),<span style="color: #93a1a1;">//</span><span style="color: #93a1a1;">&#26174;&#31034;&#26368;&#22823;&#33539;&#22260;</span>
   __ATTR(resolution, <span style="color: #6c71c4;">0444</span>, sensors_resolution_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),<span style="color: #93a1a1;">//</span>
   __ATTR(sensor_power, <span style="color: #6c71c4;">0444</span>, sensors_power_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(min_delay, <span style="color: #6c71c4;">0444</span>, sensors_min_delay_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(fifo_reserved_event_count, <span style="color: #6c71c4;">0444</span>, sensors_fifo_event_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(fifo_max_event_count, <span style="color: #6c71c4;">0444</span>, sensors_fifo_max_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(max_delay, <span style="color: #6c71c4;">0444</span>, sensors_max_delay_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(flags, <span style="color: #6c71c4;">0444</span>, sensors_flags_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(enable, <span style="color: #6c71c4;">0664</span>, sensors_enable_show, sensors_enable_store),
   __ATTR(enable_wakeup, <span style="color: #6c71c4;">0664</span>, sensors_enable_wakeup_show, sensors_enable_wakeup_store),
   __ATTR(poll_delay, <span style="color: #6c71c4;">0664</span>, sensors_delay_show, sensors_delay_store),
   __ATTR(self_test, <span style="color: #6c71c4;">0440</span>, sensors_test_show, <span style="color: #268bd2; font-weight: bold;">NULL</span>),
   __ATTR(max_latency, <span style="color: #6c71c4;">0660</span>, sensors_max_latency_show, sensors_max_latency_store),
   __ATTR(flush, <span style="color: #6c71c4;">0660</span>, sensors_flush_show, sensors_flush_store),
   __ATTR(calibrate, <span style="color: #6c71c4;">0664</span>, sensors_calibrate_show, sensors_calibrate_store),
   __ATTR_NULL,
 };
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">5.3</span> 注册/注销传感器设备</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900;">int</span> <span style="color: #268bd2;">sensors_classdev_register</span>(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">device</span> *<span style="color: #268bd2;">parent</span>, <span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensors_cdev</span>)
<span style="color: #b58900;">void</span> <span style="color: #268bd2;">sensors_classdev_unregister</span>(<span style="color: #859900; font-weight: bold;">struct</span> <span style="color: #b58900;">sensors_classdev</span> *<span style="color: #268bd2;">sensors_cdev</span>)
*&#21151;&#33021;:&#27880;&#20876;&#20256;&#24863;&#22120;&#31867;&#35774;&#22791;
*&#21442;&#25968;:parent:&#29238;&#33410;&#28857;
       sensors_cdev:&#34987;&#27880;&#20876;&#35774;&#22791;&#30340;&#32467;&#26500;&#20307;
&#36820;&#22238;&#20540;:&#25104;&#21151;0
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: wildbook</p>
<p class="date">Created: 2017-02-20 一 09:26</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
